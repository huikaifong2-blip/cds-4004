<html lang="en">
<!-- feel free to revise this file -->

<head>
	<style>	
		/*write your css rules here*/

		/* COLORS */
		:root {
		--powder-blush: #ffa69eff;
		--eggshell: #faf3ddff;
		--icy-aqua: #b8f2e6ff;
		--light-blue: #aed9e0ff;
		--blue-slate: #5e6472ff;
		--task-cat1: #ff0000ff;
		//--task-cat2: #00ff00ff;
			--task-cat2: #000000ff;
		//--task-cat3: #0000ffff;
			--task-cat3: #a9a9a9ff;
		}

	button {
  		//background-color: #c2fbd7;
		//background-color: var(--powder-blush);
		background-color: var(--icy-aqua);
  		border-radius: 100px;
  		box-shadow: rgba(44, 187, 99, .2) 0 -25px 18px -14px inset,rgba(44, 187, 99, .15) 0 1px 2px,rgba(44, 187, 99, .15) 0 2px 4px,rgba(44, 187, 99, .15) 0 4px 8px,rgba(44, 187, 99, .15) 0 8px 16px,rgba(44, 187, 99, .15) 0 16px 32px;
  		//color: green;
  		color: var(--blue-slate);
  		cursor: pointer;
  		display: inline-block;
  		font-family: CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;
  		padding: 7px 20px;
  		text-align: center;
  		text-decoration: none;
  		transition: all 250ms;
  		border: 0;
  		font-size: 16px;
  		user-select: none;
  		-webkit-user-select: none;
  		touch-action: manipulation;
	}

	button:hover {
  		box-shadow: rgba(44,187,99,.35) 0 -25px 18px -14px inset,rgba(44,187,99,.25) 0 1px 2px,rgba(44,187,99,.25) 0 2px 4px,rgba(44,187,99,.25) 0 4px 8px,rgba(44,187,99,.25) 0 8px 16px,rgba(44,187,99,.25) 0 16px 32px;
  		transform: scale(1.05) rotate(-1deg);
	}
		
/*
		button {
		  display: flex;
		  align-items: center;
		  justify-content: center;
		  line-height: 1;
		  text-decoration: none;
		  //color: #e74b7e;
		  color: var(--blue-slate);
		  font-size: 18px;
		  border-radius: 20px;
		  width: 200px;
		  height: 40px;
		  font-weight: bold;
		  transition: 0.3s;
		  box-shadow: 0px 2px 3px 0px rgba(0, 0, 0, 0.25);
		  text-shadow: 1px 1px 2px rgba(255, 255, 255, 1);
		  //background-color: [object object];
		  background-color: var(--powder-blush);
		  background-image: linear-gradient(180deg, rgba(254, 214, 227, 1), rgba(255, 126, 168, 1));
		}
		
		button:hover {
		  box-shadow: 0 0 rgba(0, 0, 0, 0);
		}

*/
		.completed {
			text-decoration: line-through;
		}

		body {
			background-color: var(--eggshell);
  			color: var(--blue-slate);
		}
		
		.button {
  			background-color: var(--powder-blush);
  			color: var(--blue-slate);
		}

		.divButton {
    		display: flex;
    		justify-content: center;  /* Centers horizontally */
    		//align-items: center;      /* Centers vertically */
    		gap: 100px;               /* Space between buttons */
    		//height: 100vh;           /* Full viewport height for vertical centering */
			margin: 10px;
		}
		
		textarea {
		  font-size: 25px;
		  width:100%;
		  margin: 10px;
		}

		li {
			font-size: 30px;
			//border-left-width: 10px;
		}
		
	</style>
</head>

<body>
	<textarea id='text' rows="3" >Dinner, 1; Exercise, 2; Study, 3</textarea> 
	<br/>
	<div class='divButton'>
		<button id='btn_add' onclick="addTasks()">Add</button>
		<button id='btn_hide' onclick="hideCompleted()">Toggle</button>
	</div>

	<ol id='order_list'>

	</ol>	
</body>

	<script>
		function hideCompleted() {
			const allItems = document.querySelectorAll('#order_list li');
			allItems.forEach(item => {
				const hasLineThrough = window.getComputedStyle(item).textDecoration.includes('line-through');
				if (hasLineThrough) {
				//if (item.style.textDecoration.include('line-through')) {
					if (item.style.display == 'none') {
						item.style.display = 'list-item';
					} else {
						item.style.display = 'none';
					}
		        }
   			});
			document.getElementById('text').focus();
		}
		function addTasks() {
			let textboxValue = document.getElementById('text').value;
			if (textboxValue.trim().length > 0) {
			console.log("@" + textboxValue);
			let array = textboxValue.split(";");
			console.log(array);
			//let splitArray = array.map(item => item.split(",").trim()).map(part => part.trim());
			let result = array.map(item =>item.split(",").map(part => part.trim()));
			console.log(result);
			console.log("result.length:" + result.length);
			for (let i = 0; i < result.length; i++) {
				//if (textboxValue[i].length == 2) {
					let item = "* " + result[i][0] + ", " + result[i][1];
					console.log(item)
				
					let ol = document.getElementById('order_list');
					let li = document.createElement('li');

					//li.style.color = "--task-cat" + result[i][1];
					console.log("--task-cat" + result[i][1]);
					let data = document.createElement('data');
					data.textContent = result[i][0];
					//data.value = result[i][1];
					data.color = result[i][1];

					li.appendChild(data);
				    li.addEventListener('dblclick', function() {
                		//if (confirm(`Delete current task "' + result[i][0] + '"?`)) {
						if (confirm(`Delete current task "${result[i][0]}"?`)) {
                    	this.remove();
                		}
            		});
				    li.addEventListener('click', function() {
						this.classList.toggle('completed');
                		//if (confirm(`Strike thru current task?`)) {
                    	//this.remove();
						//this.style.textDecoration = 'line-through';
						/*
						if (this.style.textDecoration == 'line-through') {
        					//console.log('Already has line-through');
							//this.style.textDecorationLine = ''
							this.style.textDecoration = ''
    					} else {
        					this.style.textDecoration = 'line-through';
    					}
						*/
            		});
					//li.style.color = "var(--task-cat" + "result[i][1])";
					let colorCode = "var(--task-cat"+ result[i][1] + ")";
					console.log(colorCode);
				    li.style.setProperty('color', colorCode);
					ol.appendChild(li);
				
					//ol.appendChild(li);
				//}
			}
			/*
			let nestedArray = [
    			["Dinner", "1"],
				["Exercise", "2"],
				["Study", "3"]
			];
			console.log("result.length:" + result.length);
			for (let i = 0; i < result.length; i++) {
    			for (let j = 0; j < result[i].length; j++) {
        			console.log("#"+result[i][j]);
    			}
			}
			*/
			document.getElementById('text').value = '';
			}
			document.getElementById('text').focus();
		}
	</script>
</html>

