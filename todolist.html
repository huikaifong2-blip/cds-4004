<html lang="en">
<!-- feel free to revise this file -->

<head>
	<style>	
		/*write your css rules here*/

		/* CSS HEX */
		:root {
		--powder-blush: #ffa69eff;
		--eggshell: #faf3ddff;
		--icy-aqua: #b8f2e6ff;
		--light-blue: #aed9e0ff;
		--blue-slate: #5e6472ff;
		--task-cat1: #ff0000ff;
		--task-cat2: #000000ff;
		--task-cat3: #888888ff;
		}

		body {
			background-color: var(--eggshell);
  			color: var(--blue-slate);
		}
		
		.button {
  			background-color: var(--powder-blush);
  			color: var(--blue-slate);
		}
		
		textarea {
		  width:100%;
		}

		li {
			font-size: 30px;
		}
		
	</style>
</head>

<body>
	<textarea id='text' rows="3" >Dinner, 1; Exercise, 2; Study, 3</textarea> 
	<br/>
	<div class='divButton'>
		<button id='btn_add' onclick="init()">Add</button>
		<button id='btn_hide'>Toggle</button>
	</div>

	<ol id='order_list'>
      <li><data value="21053">data tag</data></li>  
      <li>List item</li> 
	</ol>	
</body>

	<script>
		function init() {
			let textboxValue = document.getElementById('text').value;
			console.log("@" + textboxValue);
			let array = textboxValue.split(";");
			console.log(array);
			//let splitArray = array.map(item => item.split(",").trim()).map(part => part.trim());
			let result = array.map(item =>item.split(",").map(part => part.trim()));
			console.log(result);
			console.log("result.length:" + result.length);
			for (let i = 0; i < result.length; i++) {
				//if (textboxValue[i].length == 2) {
					let item = "* " + result[i][0] + ", " + result[i][1];
					console.log(item)
				
					let ol = document.getElementById('order_list');
					let li = document.createElement('li');

					//li.style.color = "--task-cat" + result[i][1];
					console.log("--task-cat" + result[i][1]);
					let data = document.createElement('data');
					data.textContent = result[i][0];
					//data.value = result[i][1];
					data.color = result[i][1];

					li.appendChild(data);
				    li.addEventListener('dblclick', function() {
                		if (confirm(`Delete current task "' + result[i][0] + '"?`)) {
                    	this.remove();
                		}
            		});
				    li.addEventListener('click', function() {
                		if (confirm(`Strike thru current task?`)) {
                    	this.remove();
                		}
            		});
					//li.style.color = "var(--task-cat" + "result[i][1])";
					let colorCode = "var(--task-cat"+ result[i][1] + ")";
					//console.log(color-code);
				    //li.style.setProperty('color', color-code);
					ol.appendChild(li);
				
					//ol.appendChild(li);
				//}
			}
			/*
			let nestedArray = [
    			["Dinner", "1"],
				["Exercise", "2"],
				["Study", "3"]
			];
			console.log("result.length:" + result.length);
			for (let i = 0; i < result.length; i++) {
    			for (let j = 0; j < result[i].length; j++) {
        			console.log("#"+result[i][j]);
    			}
			}
			*/
		}
	</script>
</html>

